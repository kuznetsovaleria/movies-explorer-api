{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:19:10)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/Users/kuznetsovaleria/movies-explorer-api/node_modules/body-parser/lib/types/urlencoded.js:91:7)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:19:10)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/Users/kuznetsovaleria/movies-explorer-api/node_modules/body-parser/lib/types/urlencoded.js:91:7)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Sun May 09 2021 13:36:07 GMT+0300 (Москва, стандартное время)","process":{"pid":50132,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":66945024,"heapTotal":56045568,"heapUsed":19917520,"external":19791576,"arrayBuffers":18273385}},"os":{"loadavg":[6.2646484375,5.12744140625,4.361328125],"uptime":7491392},"trace":[{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js","function":"module.exports","line":19,"method":"exports","native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/body-parser/lib/types/urlencoded.js","function":"urlencodedParser","line":91,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/movieskj","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk2ZTc5MWE0ODE4MWFmYmNiNzE3Y2MiLCJpYXQiOjE2MjA1MDcxNDksImV4cCI6MTYyMTExMTk0OX0.fM2avjhYu9bwy8WVOyJ079BH96MO7oyOzD_HZ-j_Shk","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"9b7e1782-7900-4b63-b347-229352a4208a","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/movieskj","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movieskj","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk2ZTc5MWE0ODE4MWFmYmNiNzE3Y2MiLCJpYXQiOjE2MjA1MDcxNDksImV4cCI6MTYyMTExMTk0OX0.fM2avjhYu9bwy8WVOyJ079BH96MO7oyOzD_HZ-j_Shk","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"9b7e1782-7900-4b63-b347-229352a4208a","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/movieskj","query":{}},"res":{"statusCode":401},"responseTime":16},"level":"info","message":"HTTP GET /movieskj"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:19:10)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/Users/kuznetsovaleria/movies-explorer-api/node_modules/body-parser/lib/types/urlencoded.js:91:7)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:19:10)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/Users/kuznetsovaleria/movies-explorer-api/node_modules/body-parser/lib/types/urlencoded.js:91:7)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Sun May 09 2021 13:36:10 GMT+0300 (Москва, стандартное время)","process":{"pid":50132,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":67137536,"heapTotal":56307712,"heapUsed":20318728,"external":19799448,"arrayBuffers":18273409}},"os":{"loadavg":[6.2646484375,5.12744140625,4.361328125],"uptime":7491395},"trace":[{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js","function":"module.exports","line":19,"method":"exports","native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/body-parser/lib/types/urlencoded.js","function":"urlencodedParser","line":91,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/movieskj","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk2ZTc5MWE0ODE4MWFmYmNiNzE3Y2MiLCJpYXQiOjE2MjA1MDcxNDksImV4cCI6MTYyMTExMTk0OX0.fM2avjhYu9bwy8WVOyJ079BH96MO7oyOzD_HZ-j_Shk","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"d11a5132-7e1f-441a-8bcf-7a3279a10b2d","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/movieskj","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movieskj","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk2ZTc5MWE0ODE4MWFmYmNiNzE3Y2MiLCJpYXQiOjE2MjA1MDcxNDksImV4cCI6MTYyMTExMTk0OX0.fM2avjhYu9bwy8WVOyJ079BH96MO7oyOzD_HZ-j_Shk","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"d11a5132-7e1f-441a-8bcf-7a3279a10b2d","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/movieskj","query":{}},"res":{"statusCode":401},"responseTime":10},"level":"info","message":"HTTP GET /movieskj"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:19:10)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/Users/kuznetsovaleria/movies-explorer-api/node_modules/body-parser/lib/types/urlencoded.js:91:7)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:19:10)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/Users/kuznetsovaleria/movies-explorer-api/node_modules/body-parser/lib/types/urlencoded.js:91:7)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Sun May 09 2021 13:36:19 GMT+0300 (Москва, стандартное время)","process":{"pid":50132,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":49614848,"heapTotal":22491136,"heapUsed":19818776,"external":19791105,"arrayBuffers":18272874}},"os":{"loadavg":[5.5283203125,5.00732421875,4.3271484375],"uptime":7491404},"trace":[{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js","function":"module.exports","line":19,"method":"exports","native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/body-parser/lib/types/urlencoded.js","function":"urlencodedParser","line":91,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/movieskj","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk2ZTc5MWE0ODE4MWFmYmNiNzE3Y2MiLCJpYXQiOjE2MjA1MDcxNDksImV4cCI6MTYyMTExMTk0OX0.fM2avjhYu9bwy8WVOyJ079BH96MO7oyOzD_HZ-j_Shk","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"1fcdb17f-08db-41d9-a068-391d889d5bf4","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/movieskj","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movieskj","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk2ZTc5MWE0ODE4MWFmYmNiNzE3Y2MiLCJpYXQiOjE2MjA1MDcxNDksImV4cCI6MTYyMTExMTk0OX0.fM2avjhYu9bwy8WVOyJ079BH96MO7oyOzD_HZ-j_Shk","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"1fcdb17f-08db-41d9-a068-391d889d5bf4","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/movieskj","query":{}},"res":{"statusCode":401},"responseTime":2},"level":"info","message":"HTTP GET /movieskj"}
{"meta":{"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"3bb62ba1-f295-4bce-a2af-ec5eb7cca63d","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"62"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}},"res":{"statusCode":200},"responseTime":232},"level":"info","message":"HTTP POST /signin"}
{"meta":{"error":{"statusCode":404},"level":"error","message":"uncaughtException: Данные не найдены\nError: Данные не найдены\n    at /Users/kuznetsovaleria/movies-explorer-api/app.js:39:8\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:635:15","stack":"Error: Данные не найдены\n    at /Users/kuznetsovaleria/movies-explorer-api/app.js:39:8\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:635:15","exception":true,"date":"Sun May 09 2021 13:36:41 GMT+0300 (Москва, стандартное время)","process":{"pid":50132,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":50515968,"heapTotal":22491136,"heapUsed":20849656,"external":19804177,"arrayBuffers":18285946}},"os":{"loadavg":[5.0244140625,4.9248046875,4.3134765625],"uptime":7491426},"trace":[{"column":8,"file":"/Users/kuznetsovaleria/movies-explorer-api/app.js","function":null,"line":39,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":15,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":635,"method":null,"native":false},{"column":14,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":260,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":15,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":635,"method":null,"native":false}],"req":{"url":"/movieskj","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk2ZTc5MWE0ODE4MWFmYmNiNzE3Y2MiLCJpYXQiOjE2MjA1NTY1ODYsImV4cCI6MTYyMTE2MTM4Nn0.k4xccJ84-jOozcWntWWd7s2aHyjz08_olg865KqN8z0","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"9c0bef79-639e-4ca3-8aae-0140b3dd94b1","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/movieskj","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movieskj","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk2ZTc5MWE0ODE4MWFmYmNiNzE3Y2MiLCJpYXQiOjE2MjA1NTY1ODYsImV4cCI6MTYyMTE2MTM4Nn0.k4xccJ84-jOozcWntWWd7s2aHyjz08_olg865KqN8z0","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"9c0bef79-639e-4ca3-8aae-0140b3dd94b1","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/movieskj","query":{}},"res":{"statusCode":404},"responseTime":4},"level":"info","message":"HTTP GET /movieskj"}
{"meta":{"error":{"statusCode":404},"level":"error","message":"uncaughtException: Страница не найдена\nError: Страница не найдена\n    at /Users/kuznetsovaleria/movies-explorer-api/app.js:39:8\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:635:15","stack":"Error: Страница не найдена\n    at /Users/kuznetsovaleria/movies-explorer-api/app.js:39:8\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:635:15","exception":true,"date":"Sun May 09 2021 13:37:35 GMT+0300 (Москва, стандартное время)","process":{"pid":50176,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":66957312,"heapTotal":56045568,"heapUsed":19918336,"external":19791576,"arrayBuffers":18273385}},"os":{"loadavg":[3.54296875,4.47265625,4.17919921875],"uptime":7491480},"trace":[{"column":8,"file":"/Users/kuznetsovaleria/movies-explorer-api/app.js","function":null,"line":39,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":15,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":635,"method":null,"native":false},{"column":14,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":260,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":15,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":635,"method":null,"native":false}],"req":{"url":"/movieskj","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk2ZTc5MWE0ODE4MWFmYmNiNzE3Y2MiLCJpYXQiOjE2MjA1NTY1ODYsImV4cCI6MTYyMTE2MTM4Nn0.k4xccJ84-jOozcWntWWd7s2aHyjz08_olg865KqN8z0","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"213d6651-b075-41a4-896e-5db298e34e45","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/movieskj","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movieskj","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk2ZTc5MWE0ODE4MWFmYmNiNzE3Y2MiLCJpYXQiOjE2MjA1NTY1ODYsImV4cCI6MTYyMTE2MTM4Nn0.k4xccJ84-jOozcWntWWd7s2aHyjz08_olg865KqN8z0","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"213d6651-b075-41a4-896e-5db298e34e45","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/movieskj","query":{}},"res":{"statusCode":404},"responseTime":12},"level":"info","message":"HTTP GET /movieskj"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk2ZTc5MWE0ODE4MWFmYmNiNzE3Y2MiLCJpYXQiOjE2MjA1NTY1ODYsImV4cCI6MTYyMTE2MTM4Nn0.k4xccJ84-jOozcWntWWd7s2aHyjz08_olg865KqN8z0","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"e69ee7cd-06bd-430d-b88e-8fa5a47eea76","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":200},"responseTime":35},"level":"info","message":"HTTP GET /movies"}
{"meta":{"req":{"url":"/signup","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"ace41118-2367-4264-9eae-417c22e9c80a","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"81"},"method":"POST","httpVersion":"1.1","originalUrl":"/signup","query":{}},"res":{"statusCode":201},"responseTime":315},"level":"info","message":"HTTP POST /signup"}
{"meta":{"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"f6e893a2-1e2a-4321-8e97-e4c3f4f323a0","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"60"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}},"res":{"statusCode":200},"responseTime":312},"level":"info","message":"HTTP POST /signin"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:19:10)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:142:6)\n    at xXssProtectionMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-xss-protection/index.js:6:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at referrerPolicyMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/referrer-policy/index.js:24:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-permitted-cross-domain-policies/index.js:15:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at xContentTypeOptionsMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-content-type-options/index.js:6:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at xDownloadOptionsMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-download-options/index.js:6:3)","stack":"Error: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:19:10)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:142:6)\n    at xXssProtectionMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-xss-protection/index.js:6:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at referrerPolicyMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/referrer-policy/index.js:24:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-permitted-cross-domain-policies/index.js:15:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at xContentTypeOptionsMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-content-type-options/index.js:6:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at xDownloadOptionsMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-download-options/index.js:6:3)","exception":true,"date":"Mon May 10 2021 15:38:28 GMT+0300 (Москва, стандартное время)","process":{"pid":51938,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":44343296,"heapTotal":23015424,"heapUsed":20962232,"external":19793352,"arrayBuffers":18275161}},"os":{"loadavg":[3.49169921875,3.18310546875,3.02001953125],"uptime":7585133},"trace":[{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js","function":"module.exports","line":19,"method":"exports","native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":6,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js","function":"internalNext","line":142,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-xss-protection/index.js","function":"xXssProtectionMiddleware","line":6,"method":null,"native":false},{"column":6,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js","function":"internalNext","line":145,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/referrer-policy/index.js","function":"referrerPolicyMiddleware","line":24,"method":null,"native":false},{"column":6,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js","function":"internalNext","line":145,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-permitted-cross-domain-policies/index.js","function":"xPermittedCrossDomainPoliciesMiddleware","line":15,"method":null,"native":false},{"column":6,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js","function":"internalNext","line":145,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-content-type-options/index.js","function":"xContentTypeOptionsMiddleware","line":6,"method":null,"native":false},{"column":6,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js","function":"internalNext","line":145,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-download-options/index.js","function":"xDownloadOptionsMiddleware","line":6,"method":null,"native":false}],"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk2ZTc5MWE0ODE4MWFmYmNiNzE3Y2MiLCJpYXQiOjE2MjA1MDcxNDksImV4cCI6MTYyMTExMTk0OX0.fM2avjhYu9bwy8WVOyJ079BH96MO7oyOzD_HZ-j_Shk","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"039ec340-407c-42bf-8e34-11698bf8b21c","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"423"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk2ZTc5MWE0ODE4MWFmYmNiNzE3Y2MiLCJpYXQiOjE2MjA1MDcxNDksImV4cCI6MTYyMTExMTk0OX0.fM2avjhYu9bwy8WVOyJ079BH96MO7oyOzD_HZ-j_Shk","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"039ec340-407c-42bf-8e34-11698bf8b21c","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"423"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":401},"responseTime":61},"level":"info","message":"HTTP POST /movies"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:19:10)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:142:6)\n    at xXssProtectionMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-xss-protection/index.js:6:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at referrerPolicyMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/referrer-policy/index.js:24:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-permitted-cross-domain-policies/index.js:15:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at xContentTypeOptionsMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-content-type-options/index.js:6:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at xDownloadOptionsMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-download-options/index.js:6:3)","stack":"Error: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:19:10)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:142:6)\n    at xXssProtectionMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-xss-protection/index.js:6:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at referrerPolicyMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/referrer-policy/index.js:24:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-permitted-cross-domain-policies/index.js:15:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at xContentTypeOptionsMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-content-type-options/index.js:6:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at xDownloadOptionsMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-download-options/index.js:6:3)","exception":true,"date":"Mon May 10 2021 15:38:37 GMT+0300 (Москва, стандартное время)","process":{"pid":51938,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":44687360,"heapTotal":23015424,"heapUsed":21290208,"external":19811498,"arrayBuffers":18284976}},"os":{"loadavg":[3.73583984375,3.24267578125,3.04248046875],"uptime":7585142},"trace":[{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js","function":"module.exports","line":19,"method":"exports","native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":6,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js","function":"internalNext","line":142,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-xss-protection/index.js","function":"xXssProtectionMiddleware","line":6,"method":null,"native":false},{"column":6,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js","function":"internalNext","line":145,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/referrer-policy/index.js","function":"referrerPolicyMiddleware","line":24,"method":null,"native":false},{"column":6,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js","function":"internalNext","line":145,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-permitted-cross-domain-policies/index.js","function":"xPermittedCrossDomainPoliciesMiddleware","line":15,"method":null,"native":false},{"column":6,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js","function":"internalNext","line":145,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-content-type-options/index.js","function":"xContentTypeOptionsMiddleware","line":6,"method":null,"native":false},{"column":6,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js","function":"internalNext","line":145,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-download-options/index.js","function":"xDownloadOptionsMiddleware","line":6,"method":null,"native":false}],"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk2ZTc5MWE0ODE4MWFmYmNiNzE3Y2MiLCJpYXQiOjE2MjA1MDcxNDksImV4cCI6MTYyMTExMTk0OX0.fM2avjhYu9bwy8WVOyJ079BH96MO7oyOzD_HZ-j_Shk","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"1ee6fbb4-f1fb-473c-9dfb-758aa0f73e56","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"423"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk2ZTc5MWE0ODE4MWFmYmNiNzE3Y2MiLCJpYXQiOjE2MjA1MDcxNDksImV4cCI6MTYyMTExMTk0OX0.fM2avjhYu9bwy8WVOyJ079BH96MO7oyOzD_HZ-j_Shk","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"1ee6fbb4-f1fb-473c-9dfb-758aa0f73e56","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"423"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":401},"responseTime":2},"level":"info","message":"HTTP POST /movies"}
{"meta":{"error":{"driver":true,"name":"MongoError","index":0,"code":11000,"keyPattern":{"movieId":1},"keyValue":{"movieId":"123"}},"level":"error","message":"uncaughtException: E11000 duplicate key error collection: bitfilmsdb.movies index: movieId_1 dup key: { movieId: \"123\" }\nMongoError: E11000 duplicate key error collection: bitfilmsdb.movies index: movieId_1 dup key: { movieId: \"123\" }\n    at Function.create (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/error.js:57:12)\n    at toError (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/utils.js:123:22)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/operations/common_functions.js:258:39\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:405:18\n    at processTicksAndRejections (internal/process/task_queues.js:75:11)","stack":"MongoError: E11000 duplicate key error collection: bitfilmsdb.movies index: movieId_1 dup key: { movieId: \"123\" }\n    at Function.create (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/error.js:57:12)\n    at toError (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/utils.js:123:22)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/operations/common_functions.js:258:39\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:405:18\n    at processTicksAndRejections (internal/process/task_queues.js:75:11)","exception":true,"date":"Mon May 10 2021 15:38:53 GMT+0300 (Москва, стандартное время)","process":{"pid":51938,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":45207552,"heapTotal":23015424,"heapUsed":21905288,"external":19822557,"arrayBuffers":18287744}},"os":{"loadavg":[3.123046875,3.1318359375,3.005859375],"uptime":7585158},"trace":[{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/error.js","function":"Function.create","line":57,"method":"create","native":false},{"column":22,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/utils.js","function":"toError","line":123,"method":null,"native":false},{"column":39,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/operations/common_functions.js","function":null,"line":258,"method":null,"native":false},{"column":18,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js","function":null,"line":405,"method":null,"native":false},{"column":11,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":75,"method":null,"native":false}],"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk5MjkxMDBjZmU4ZGNhZTJkYzViZTYiLCJpYXQiOjE2MjA2NTAyODAsImV4cCI6MTYyMTI1NTA4MH0.hCL_7SRtdUWx76XcSbBzVY8xgDlOEJWwpttvp0qPLwk","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"b6c77c42-7c76-402e-a2ca-4ebb3a0cbf39","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"423"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk5MjkxMDBjZmU4ZGNhZTJkYzViZTYiLCJpYXQiOjE2MjA2NTAyODAsImV4cCI6MTYyMTI1NTA4MH0.hCL_7SRtdUWx76XcSbBzVY8xgDlOEJWwpttvp0qPLwk","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"b6c77c42-7c76-402e-a2ca-4ebb3a0cbf39","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"423"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":500},"responseTime":43},"level":"info","message":"HTTP POST /movies"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk5MjkxMDBjZmU4ZGNhZTJkYzViZTYiLCJpYXQiOjE2MjA2NTAyODAsImV4cCI6MTYyMTI1NTA4MH0.hCL_7SRtdUWx76XcSbBzVY8xgDlOEJWwpttvp0qPLwk","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"941a9f27-143e-47a5-b59f-d25686164da2","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"423"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":200},"responseTime":14},"level":"info","message":"HTTP POST /movies"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:19:10)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:142:6)\n    at xXssProtectionMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-xss-protection/index.js:6:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at referrerPolicyMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/referrer-policy/index.js:24:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-permitted-cross-domain-policies/index.js:15:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at xContentTypeOptionsMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-content-type-options/index.js:6:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at xDownloadOptionsMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-download-options/index.js:6:3)","stack":"Error: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:19:10)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:142:6)\n    at xXssProtectionMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-xss-protection/index.js:6:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at referrerPolicyMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/referrer-policy/index.js:24:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-permitted-cross-domain-policies/index.js:15:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at xContentTypeOptionsMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-content-type-options/index.js:6:3)\n    at internalNext (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js:145:6)\n    at xDownloadOptionsMiddleware (/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-download-options/index.js:6:3)","exception":true,"date":"Mon May 10 2021 15:40:25 GMT+0300 (Москва, стандартное время)","process":{"pid":51938,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":44638208,"heapTotal":23277568,"heapUsed":21873200,"external":19807094,"arrayBuffers":18288863}},"os":{"loadavg":[2.734375,3.00732421875,2.96875],"uptime":7585250},"trace":[{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js","function":"module.exports","line":19,"method":"exports","native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":6,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js","function":"internalNext","line":142,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-xss-protection/index.js","function":"xXssProtectionMiddleware","line":6,"method":null,"native":false},{"column":6,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js","function":"internalNext","line":145,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/referrer-policy/index.js","function":"referrerPolicyMiddleware","line":24,"method":null,"native":false},{"column":6,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js","function":"internalNext","line":145,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-permitted-cross-domain-policies/index.js","function":"xPermittedCrossDomainPoliciesMiddleware","line":15,"method":null,"native":false},{"column":6,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js","function":"internalNext","line":145,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-content-type-options/index.js","function":"xContentTypeOptionsMiddleware","line":6,"method":null,"native":false},{"column":6,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/index.js","function":"internalNext","line":145,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/helmet/dist/middlewares/x-download-options/index.js","function":"xDownloadOptionsMiddleware","line":6,"method":null,"native":false}],"req":{"url":"/movies/6099296e0cfe8dcae2dc5be8","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk2ZTc5MWE0ODE4MWFmYmNiNzE3Y2MiLCJpYXQiOjE2MjA1NTE1NDEsImV4cCI6MTYyMTE1NjM0MX0.5c8QmcxC0PfQrAhINxOikbMImt4ntAfjI-vlUFVrumg","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"17ad63ad-e33d-45a0-b2f0-f12456a88658","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/6099296e0cfe8dcae2dc5be8","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies/6099296e0cfe8dcae2dc5be8","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk2ZTc5MWE0ODE4MWFmYmNiNzE3Y2MiLCJpYXQiOjE2MjA1NTE1NDEsImV4cCI6MTYyMTE1NjM0MX0.5c8QmcxC0PfQrAhINxOikbMImt4ntAfjI-vlUFVrumg","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"17ad63ad-e33d-45a0-b2f0-f12456a88658","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/6099296e0cfe8dcae2dc5be8","query":{}},"res":{"statusCode":401},"responseTime":2},"level":"info","message":"HTTP DELETE /movies/6099296e0cfe8dcae2dc5be8"}
{"meta":{"req":{"url":"/movies/6099296e0cfe8dcae2dc5be8","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk5MjkxMDBjZmU4ZGNhZTJkYzViZTYiLCJpYXQiOjE2MjA2NTAyODAsImV4cCI6MTYyMTI1NTA4MH0.hCL_7SRtdUWx76XcSbBzVY8xgDlOEJWwpttvp0qPLwk","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"c60da267-8593-4cf7-a892-8748eec5b813","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/6099296e0cfe8dcae2dc5be8","query":{}},"res":{"statusCode":200},"responseTime":102},"level":"info","message":"HTTP DELETE /movies/6099296e0cfe8dcae2dc5be8"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk5MjkxMDBjZmU4ZGNhZTJkYzViZTYiLCJpYXQiOjE2MjA2NTAyODAsImV4cCI6MTYyMTI1NTA4MH0.hCL_7SRtdUWx76XcSbBzVY8xgDlOEJWwpttvp0qPLwk","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"919612d6-effa-4fe9-bdd9-39c5ec7f516c","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"423"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":200},"responseTime":145},"level":"info","message":"HTTP POST /movies"}
{"meta":{"error":{"driver":true,"name":"MongoError","index":0,"code":11000,"keyPattern":{"movieId":1},"keyValue":{"movieId":"345"}},"level":"error","message":"uncaughtException: E11000 duplicate key error collection: bitfilmsdb.movies index: movieId_1 dup key: { movieId: \"345\" }\nMongoError: E11000 duplicate key error collection: bitfilmsdb.movies index: movieId_1 dup key: { movieId: \"345\" }\n    at Function.create (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/error.js:57:12)\n    at toError (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/utils.js:123:22)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/operations/common_functions.js:258:39\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:405:18\n    at processTicksAndRejections (internal/process/task_queues.js:75:11)","stack":"MongoError: E11000 duplicate key error collection: bitfilmsdb.movies index: movieId_1 dup key: { movieId: \"345\" }\n    at Function.create (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/error.js:57:12)\n    at toError (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/utils.js:123:22)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/operations/common_functions.js:258:39\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:405:18\n    at processTicksAndRejections (internal/process/task_queues.js:75:11)","exception":true,"date":"Mon May 10 2021 16:03:02 GMT+0300 (Москва, стандартное время)","process":{"pid":52307,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":68063232,"heapTotal":56569856,"heapUsed":21223232,"external":19880043,"arrayBuffers":18361852}},"os":{"loadavg":[4.15966796875,3.93505859375,3.66162109375],"uptime":7586607},"trace":[{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/error.js","function":"Function.create","line":57,"method":"create","native":false},{"column":22,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/utils.js","function":"toError","line":123,"method":null,"native":false},{"column":39,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/operations/common_functions.js","function":null,"line":258,"method":null,"native":false},{"column":18,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js","function":null,"line":405,"method":null,"native":false},{"column":11,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":75,"method":null,"native":false}],"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk5MjkxMDBjZmU4ZGNhZTJkYzViZTYiLCJpYXQiOjE2MjA2NTAyODAsImV4cCI6MTYyMTI1NTA4MH0.hCL_7SRtdUWx76XcSbBzVY8xgDlOEJWwpttvp0qPLwk","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"43c3d649-ca5f-47b5-b369-f2c2b70edd00","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"423"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk5MjkxMDBjZmU4ZGNhZTJkYzViZTYiLCJpYXQiOjE2MjA2NTAyODAsImV4cCI6MTYyMTI1NTA4MH0.hCL_7SRtdUWx76XcSbBzVY8xgDlOEJWwpttvp0qPLwk","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"43c3d649-ca5f-47b5-b369-f2c2b70edd00","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"423"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":500},"responseTime":48},"level":"info","message":"HTTP POST /movies"}
{"meta":{"error":{"driver":true,"name":"MongoError","index":0,"code":11000,"keyPattern":{"movieId":1},"keyValue":{"movieId":"345"}},"level":"error","message":"uncaughtException: E11000 duplicate key error collection: bitfilmsdb.movies index: movieId_1 dup key: { movieId: \"345\" }\nMongoError: E11000 duplicate key error collection: bitfilmsdb.movies index: movieId_1 dup key: { movieId: \"345\" }\n    at Function.create (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/error.js:57:12)\n    at toError (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/utils.js:123:22)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/operations/common_functions.js:258:39\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:405:18\n    at processTicksAndRejections (internal/process/task_queues.js:75:11)","stack":"MongoError: E11000 duplicate key error collection: bitfilmsdb.movies index: movieId_1 dup key: { movieId: \"345\" }\n    at Function.create (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/error.js:57:12)\n    at toError (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/utils.js:123:22)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/operations/common_functions.js:258:39\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:405:18\n    at processTicksAndRejections (internal/process/task_queues.js:75:11)","exception":true,"date":"Mon May 10 2021 16:06:12 GMT+0300 (Москва, стандартное время)","process":{"pid":52400,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":68079616,"heapTotal":57094144,"heapUsed":21226904,"external":19880043,"arrayBuffers":18361852}},"os":{"loadavg":[5.07763671875,3.91455078125,3.662109375],"uptime":7586797},"trace":[{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/error.js","function":"Function.create","line":57,"method":"create","native":false},{"column":22,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/utils.js","function":"toError","line":123,"method":null,"native":false},{"column":39,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/operations/common_functions.js","function":null,"line":258,"method":null,"native":false},{"column":18,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js","function":null,"line":405,"method":null,"native":false},{"column":11,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":75,"method":null,"native":false}],"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk5MjkxMDBjZmU4ZGNhZTJkYzViZTYiLCJpYXQiOjE2MjA2NTAyODAsImV4cCI6MTYyMTI1NTA4MH0.hCL_7SRtdUWx76XcSbBzVY8xgDlOEJWwpttvp0qPLwk","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"f3b5f884-e677-4db8-958d-f37be47c1491","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"423"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk5MjkxMDBjZmU4ZGNhZTJkYzViZTYiLCJpYXQiOjE2MjA2NTAyODAsImV4cCI6MTYyMTI1NTA4MH0.hCL_7SRtdUWx76XcSbBzVY8xgDlOEJWwpttvp0qPLwk","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"f3b5f884-e677-4db8-958d-f37be47c1491","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"423"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":500},"responseTime":53},"level":"info","message":"HTTP POST /movies"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk5MjkxMDBjZmU4ZGNhZTJkYzViZTYiLCJpYXQiOjE2MjA2NTAyODAsImV4cCI6MTYyMTI1NTA4MH0.hCL_7SRtdUWx76XcSbBzVY8xgDlOEJWwpttvp0qPLwk","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"8b4945b6-be75-46ce-88aa-ae18c8921e3c","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"424"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":201},"responseTime":18},"level":"info","message":"HTTP POST /movies"}
{"meta":{"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"b884d91c-7737-44fb-b692-371ae43b7634","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"60"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}},"res":{"statusCode":200},"responseTime":357},"level":"info","message":"HTTP POST /signin"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk5MjkxMDBjZmU4ZGNhZTJkYzViZTYiLCJpYXQiOjE2MjA3NDc2MjQsImV4cCI6MTYyMTM1MjQyNH0.qM3khCuWj46xKkE1CwZEwcyOQJnAUU_W2XFfAgUYGbw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"2070ad64-6a0e-4024-ad4a-e8672f6f214c","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"417"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":201},"responseTime":131},"level":"info","message":"HTTP POST /movies"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk5MjkxMDBjZmU4ZGNhZTJkYzViZTYiLCJpYXQiOjE2MjA3NDc2MjQsImV4cCI6MTYyMTM1MjQyNH0.qM3khCuWj46xKkE1CwZEwcyOQJnAUU_W2XFfAgUYGbw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"dde0c0f4-f44c-4e96-a0f3-63d29f2b772f","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"415"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":201},"responseTime":7},"level":"info","message":"HTTP POST /movies"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)","stack":"Error: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)","exception":true,"date":"Tue May 11 2021 19:21:43 GMT+0300 (Москва, стандартное время)","process":{"pid":56710,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":36995072,"heapTotal":21966848,"heapUsed":20552224,"external":19890955,"arrayBuffers":18372764}},"os":{"loadavg":[3.8857421875,5.32470703125,5.0595703125],"uptime":7684928},"trace":[{"column":11,"file":"/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js","function":"module.exports","line":10,"method":"exports","native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false}],"req":{"url":"/movies","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"2022501d-d5cf-40b8-b6e2-72888429692f","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"415"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"2022501d-d5cf-40b8-b6e2-72888429692f","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"415"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":401},"responseTime":28},"level":"info","message":"HTTP POST /movies"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDk5MjkxMDBjZmU4ZGNhZTJkYzViZTYiLCJpYXQiOjE2MjA3NDc2MjQsImV4cCI6MTYyMTM1MjQyNH0.qM3khCuWj46xKkE1CwZEwcyOQJnAUU_W2XFfAgUYGbw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"24415075-de00-460f-b467-488afabf526a","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"415"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":201},"responseTime":42},"level":"info","message":"HTTP POST /movies"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Неправильные почта или пароль\nError: Неправильные почта или пароль\n    at /Users/kuznetsovaleria/movies-explorer-api/models/user.js:43:15\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","stack":"Error: Неправильные почта или пароль\n    at /Users/kuznetsovaleria/movies-explorer-api/models/user.js:43:15\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","exception":true,"date":"Tue May 11 2021 19:22:41 GMT+0300 (Москва, стандартное время)","process":{"pid":56710,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":39669760,"heapTotal":22491136,"heapUsed":21327272,"external":19803732,"arrayBuffers":18285501}},"os":{"loadavg":[2.84521484375,4.80517578125,4.8818359375],"uptime":7684986},"trace":[{"column":15,"file":"/Users/kuznetsovaleria/movies-explorer-api/models/user.js","function":null,"line":43,"method":null,"native":false},{"column":5,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":93,"method":null,"native":false}],"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"6d36cfdc-859a-4cf7-8d82-a5a391109924","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"62"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"6d36cfdc-859a-4cf7-8d82-a5a391109924","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"62"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}},"res":{"statusCode":401},"responseTime":46},"level":"info","message":"HTTP POST /signin"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Неправильные почта или пароль\nError: Неправильные почта или пароль\n    at /Users/kuznetsovaleria/movies-explorer-api/models/user.js:43:15\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","stack":"Error: Неправильные почта или пароль\n    at /Users/kuznetsovaleria/movies-explorer-api/models/user.js:43:15\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","exception":true,"date":"Tue May 11 2021 19:22:44 GMT+0300 (Москва, стандартное время)","process":{"pid":56710,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":39260160,"heapTotal":23015424,"heapUsed":20860904,"external":19799267,"arrayBuffers":18281036}},"os":{"loadavg":[2.857421875,4.77490234375,4.87060546875],"uptime":7684989},"trace":[{"column":15,"file":"/Users/kuznetsovaleria/movies-explorer-api/models/user.js","function":null,"line":43,"method":null,"native":false},{"column":5,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":93,"method":null,"native":false}],"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"2e47f3a7-2875-4a36-9e63-5843c96dd121","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"62"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"2e47f3a7-2875-4a36-9e63-5843c96dd121","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"62"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}},"res":{"statusCode":401},"responseTime":29},"level":"info","message":"HTTP POST /signin"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Неправильные почта или пароль\nError: Неправильные почта или пароль\n    at /Users/kuznetsovaleria/movies-explorer-api/models/user.js:43:15\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","stack":"Error: Неправильные почта или пароль\n    at /Users/kuznetsovaleria/movies-explorer-api/models/user.js:43:15\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","exception":true,"date":"Tue May 11 2021 19:23:20 GMT+0300 (Москва, стандартное время)","process":{"pid":56710,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":39579648,"heapTotal":23015424,"heapUsed":21172464,"external":19810962,"arrayBuffers":18292731}},"os":{"loadavg":[2.3896484375,4.44921875,4.7470703125],"uptime":7685025},"trace":[{"column":15,"file":"/Users/kuznetsovaleria/movies-explorer-api/models/user.js","function":null,"line":43,"method":null,"native":false},{"column":5,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":93,"method":null,"native":false}],"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"62cde6d1-5fc3-4bbf-a3df-16f9c9a6f76b","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"62"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"62cde6d1-5fc3-4bbf-a3df-16f9c9a6f76b","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"62"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}},"res":{"statusCode":401},"responseTime":12},"level":"info","message":"HTTP POST /signin"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)","stack":"Error: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)","exception":true,"date":"Tue May 11 2021 19:27:57 GMT+0300 (Москва, стандартное время)","process":{"pid":56710,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":39284736,"heapTotal":23277568,"heapUsed":21211288,"external":19813172,"arrayBuffers":18294941}},"os":{"loadavg":[1.66845703125,3.02685546875,4.02978515625],"uptime":7685302},"trace":[{"column":11,"file":"/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js","function":"module.exports","line":10,"method":"exports","native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false}],"req":{"url":"/signup","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"75abfb77-f7e4-4d0e-9922-dbe809af6fbc","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"77"},"method":"GET","httpVersion":"1.1","originalUrl":"/signup","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/signup","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"75abfb77-f7e4-4d0e-9922-dbe809af6fbc","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"77"},"method":"GET","httpVersion":"1.1","originalUrl":"/signup","query":{}},"res":{"statusCode":401},"responseTime":14},"level":"info","message":"HTTP GET /signup"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)","stack":"Error: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)","exception":true,"date":"Tue May 11 2021 19:28:36 GMT+0300 (Москва, стандартное время)","process":{"pid":56786,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":66510848,"heapTotal":55783424,"heapUsed":20612664,"external":19886878,"arrayBuffers":18368687}},"os":{"loadavg":[2.71435546875,3.14306640625,4.02587890625],"uptime":7685341},"trace":[{"column":11,"file":"/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js","function":"module.exports","line":10,"method":"exports","native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false}],"req":{"url":"/signup","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"93620e44-bfa1-4c1d-9ad0-9e7a79561e1a","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"77"},"method":"GET","httpVersion":"1.1","originalUrl":"/signup","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/signup","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"93620e44-bfa1-4c1d-9ad0-9e7a79561e1a","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"77"},"method":"GET","httpVersion":"1.1","originalUrl":"/signup","query":{}},"res":{"statusCode":401},"responseTime":28},"level":"info","message":"HTTP GET /signup"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)","stack":"Error: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)","exception":true,"date":"Tue May 11 2021 19:30:29 GMT+0300 (Москва, стандартное время)","process":{"pid":56818,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":66220032,"heapTotal":56045568,"heapUsed":20610408,"external":19886878,"arrayBuffers":18368687}},"os":{"loadavg":[3.92529296875,3.27294921875,3.95703125],"uptime":7685454},"trace":[{"column":11,"file":"/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js","function":"module.exports","line":10,"method":"exports","native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":15,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":635,"method":null,"native":false},{"column":14,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":260,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false}],"req":{"url":"/signup","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"4ce35c7a-831b-481a-9a55-d562f77ca5f5","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"77"},"method":"GET","httpVersion":"1.1","originalUrl":"/signup","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/signup","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"4ce35c7a-831b-481a-9a55-d562f77ca5f5","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"77"},"method":"GET","httpVersion":"1.1","originalUrl":"/signup","query":{}},"res":{"statusCode":401},"responseTime":14},"level":"info","message":"HTTP GET /signup"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)","stack":"Error: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)","exception":true,"date":"Tue May 11 2021 19:31:43 GMT+0300 (Москва, стандартное время)","process":{"pid":56881,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":66519040,"heapTotal":56045568,"heapUsed":20612320,"external":19886878,"arrayBuffers":18368687}},"os":{"loadavg":[6.26806640625,3.8984375,4.12109375],"uptime":7685528},"trace":[{"column":11,"file":"/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js","function":"module.exports","line":10,"method":"exports","native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false}],"req":{"url":"/signup","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"7df53d23-d40c-448c-ad23-37a90e3e7272","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"77"},"method":"GET","httpVersion":"1.1","originalUrl":"/signup","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/signup","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"7df53d23-d40c-448c-ad23-37a90e3e7272","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"77"},"method":"GET","httpVersion":"1.1","originalUrl":"/signup","query":{}},"res":{"statusCode":401},"responseTime":17},"level":"info","message":"HTTP GET /signup"}
{"meta":{"req":{"url":"/signup","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"f5036822-88d5-4444-9d20-b5b5e8f17405","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"77"},"method":"POST","httpVersion":"1.1","originalUrl":"/signup","query":{}},"res":{"statusCode":201},"responseTime":173},"level":"info","message":"HTTP POST /signup"}
{"meta":{"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"ac86e22e-a831-4e2d-be90-3113c952e58f","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"58"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}},"res":{"statusCode":200},"responseTime":147},"level":"info","message":"HTTP POST /signin"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)","stack":"Error: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)","exception":true,"date":"Tue May 11 2021 19:37:16 GMT+0300 (Москва, стандартное время)","process":{"pid":56881,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":45379584,"heapTotal":23015424,"heapUsed":21500072,"external":19808035,"arrayBuffers":18289804}},"os":{"loadavg":[2.44091796875,3.16845703125,3.76318359375],"uptime":7685861},"trace":[{"column":11,"file":"/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js","function":"module.exports","line":10,"method":"exports","native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false}],"req":{"url":"/movies","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"b94f3bfa-4e30-46f7-ba7b-4d499905bb98","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"58"},"method":"GET","httpVersion":"1.1","originalUrl":"/movies","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"b94f3bfa-4e30-46f7-ba7b-4d499905bb98","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"58"},"method":"GET","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":401},"responseTime":32},"level":"info","message":"HTTP GET /movies"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"dcabcf3f-58e9-466f-afad-8447d1b20671","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"58"},"method":"GET","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":200},"responseTime":117},"level":"info","message":"HTTP GET /movies"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"560766c3-8160-4035-9b10-28933681e6e0","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"58"},"method":"GET","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":200},"responseTime":10},"level":"info","message":"HTTP GET /movies"}
{"meta":{"error":{"details":{}},"level":"error","message":"uncaughtException: celebrate request validation failed\nError: celebrate request validation failed\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","stack":"Error: celebrate request validation failed\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","exception":true,"date":"Tue May 11 2021 19:42:32 GMT+0300 (Москва, стандартное время)","process":{"pid":56881,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":29876224,"heapTotal":23539712,"heapUsed":21369008,"external":19802807,"arrayBuffers":18284576}},"os":{"loadavg":[3.37109375,2.9033203125,3.42041015625],"uptime":7686177},"trace":[{"column":19,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":93,"method":null,"native":false}],"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"bf50d1b3-29dc-4675-b6d8-cb44e7fa6c92","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"714"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"bf50d1b3-29dc-4675-b6d8-cb44e7fa6c92","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"714"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":400},"responseTime":44},"level":"info","message":"HTTP POST /movies"}
{"meta":{"error":{"details":{}},"level":"error","message":"uncaughtException: celebrate request validation failed\nError: celebrate request validation failed\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","stack":"Error: celebrate request validation failed\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","exception":true,"date":"Tue May 11 2021 19:44:25 GMT+0300 (Москва, стандартное время)","process":{"pid":57074,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":49217536,"heapTotal":21966848,"heapUsed":20519456,"external":19887178,"arrayBuffers":18368987}},"os":{"loadavg":[4.79052734375,3.48876953125,3.57470703125],"uptime":7686290},"trace":[{"column":19,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":93,"method":null,"native":false}],"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"20516a49-183f-449c-b628-3e7c9a156a26","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"714"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"20516a49-183f-449c-b628-3e7c9a156a26","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"714"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":400},"responseTime":18},"level":"info","message":"HTTP POST /movies"}
{"meta":{"error":{"details":{}},"level":"error","message":"uncaughtException: celebrate request validation failed\nError: celebrate request validation failed\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","stack":"Error: celebrate request validation failed\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","exception":true,"date":"Tue May 11 2021 19:44:32 GMT+0300 (Москва, стандартное время)","process":{"pid":57074,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":49696768,"heapTotal":22228992,"heapUsed":20922056,"external":19889132,"arrayBuffers":18370901}},"os":{"loadavg":[4.56689453125,3.4638671875,3.5654296875],"uptime":7686297},"trace":[{"column":19,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":93,"method":null,"native":false}],"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"7a9224d8-bddf-4ba2-ab9b-bc1678c6d7fd","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"714"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"7a9224d8-bddf-4ba2-ab9b-bc1678c6d7fd","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"714"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":400},"responseTime":9},"level":"info","message":"HTTP POST /movies"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"057b81f8-8781-48d4-bc05-7ae12a85f44b","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"718"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":201},"responseTime":49},"level":"info","message":"HTTP POST /movies"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"4eaf6633-7a77-4e60-9e56-70468b1e02eb","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":200},"responseTime":22},"level":"info","message":"HTTP GET /movies"}
{"meta":{"error":{"details":{}},"level":"error","message":"uncaughtException: celebrate request validation failed\nError: celebrate request validation failed\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","stack":"Error: celebrate request validation failed\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","exception":true,"date":"Tue May 11 2021 19:45:39 GMT+0300 (Москва, стандартное время)","process":{"pid":57074,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":44150784,"heapTotal":23015424,"heapUsed":20949656,"external":19806267,"arrayBuffers":18281887}},"os":{"loadavg":[3.17138671875,3.31298828125,3.5029296875],"uptime":7686364},"trace":[{"column":19,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":93,"method":null,"native":false}],"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"8f2089fb-197e-4dca-a4ea-690cb92d004a","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"713"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"8f2089fb-197e-4dca-a4ea-690cb92d004a","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"713"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":400},"responseTime":1},"level":"info","message":"HTTP POST /movies"}
{"meta":{"error":{"details":{}},"level":"error","message":"uncaughtException: celebrate request validation failed\nError: celebrate request validation failed\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","stack":"Error: celebrate request validation failed\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","exception":true,"date":"Tue May 11 2021 19:46:12 GMT+0300 (Москва, стандартное время)","process":{"pid":57093,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":67149824,"heapTotal":56307712,"heapUsed":20820344,"external":19888077,"arrayBuffers":18369886}},"os":{"loadavg":[4.44140625,3.63427734375,3.61328125],"uptime":7686397},"trace":[{"column":19,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":93,"method":null,"native":false}],"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"77ed347b-2c30-4f23-8cd8-33491c71248a","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"722"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"77ed347b-2c30-4f23-8cd8-33491c71248a","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"722"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":400},"responseTime":18},"level":"info","message":"HTTP POST /movies"}
{"meta":{"error":{"driver":true,"name":"MongoError","index":0,"code":11000,"keyPattern":{"movieId":1},"keyValue":{"movieId":123}},"level":"error","message":"uncaughtException: E11000 duplicate key error collection: bitfilmsdb.movies index: movieId_1 dup key: { movieId: 123 }\nMongoError: E11000 duplicate key error collection: bitfilmsdb.movies index: movieId_1 dup key: { movieId: 123 }\n    at Function.create (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/error.js:57:12)\n    at toError (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/utils.js:123:22)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/operations/common_functions.js:258:39\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:405:18\n    at processTicksAndRejections (internal/process/task_queues.js:75:11)","stack":"MongoError: E11000 duplicate key error collection: bitfilmsdb.movies index: movieId_1 dup key: { movieId: 123 }\n    at Function.create (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/error.js:57:12)\n    at toError (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/utils.js:123:22)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/operations/common_functions.js:258:39\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:405:18\n    at processTicksAndRejections (internal/process/task_queues.js:75:11)","exception":true,"date":"Tue May 11 2021 19:46:36 GMT+0300 (Москва, стандартное время)","process":{"pid":57093,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":50753536,"heapTotal":23015424,"heapUsed":20834888,"external":19794102,"arrayBuffers":18275871}},"os":{"loadavg":[3.33349609375,3.4375,3.54248046875],"uptime":7686421},"trace":[{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/error.js","function":"Function.create","line":57,"method":"create","native":false},{"column":22,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/utils.js","function":"toError","line":123,"method":null,"native":false},{"column":39,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/operations/common_functions.js","function":null,"line":258,"method":null,"native":false},{"column":18,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js","function":null,"line":405,"method":null,"native":false},{"column":11,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":75,"method":null,"native":false}],"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"c33f2005-6af7-4b46-976d-4b2d4a126b8a","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"719"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"c33f2005-6af7-4b46-976d-4b2d4a126b8a","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"719"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":500},"responseTime":98},"level":"info","message":"HTTP POST /movies"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"125d72ba-cc10-4c43-86d6-39f8e9d2e14d","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"720"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":201},"responseTime":39},"level":"info","message":"HTTP POST /movies"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"ddfae284-94b9-4f99-8468-63f92817b8df","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":200},"responseTime":27},"level":"info","message":"HTTP GET /movies"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)","stack":"Error: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)","exception":true,"date":"Tue May 11 2021 19:55:38 GMT+0300 (Москва, стандартное время)","process":{"pid":57293,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":48750592,"heapTotal":21704704,"heapUsed":19971144,"external":19794957,"arrayBuffers":18276766}},"os":{"loadavg":[2.32373046875,2.673828125,3.0712890625],"uptime":7686963},"trace":[{"column":11,"file":"/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js","function":"module.exports","line":10,"method":"exports","native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false}],"req":{"url":"/movies","headers":{"user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"7529e86c-8538-4d58-958d-2c6341f4caa1","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/movies","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies","headers":{"user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"7529e86c-8538-4d58-958d-2c6341f4caa1","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":401},"responseTime":20},"level":"info","message":"HTTP GET /movies"}
{"meta":{"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"2e3e3d71-0a0e-4002-b319-cf27ba1c4be6","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"58"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}},"res":{"statusCode":200},"responseTime":137},"level":"info","message":"HTTP POST /signin"}
{"meta":{"error":{"details":{}},"level":"error","message":"uncaughtException: celebrate request validation failed\nError: celebrate request validation failed\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","stack":"Error: celebrate request validation failed\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","exception":true,"date":"Tue May 11 2021 20:02:31 GMT+0300 (Москва, стандартное время)","process":{"pid":57552,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":45158400,"heapTotal":23015424,"heapUsed":20646592,"external":19796419,"arrayBuffers":18272494}},"os":{"loadavg":[4.44287109375,4.62841796875,3.990234375],"uptime":7687376},"trace":[{"column":19,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":93,"method":null,"native":false}],"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"523156a9-41d1-4ef0-9518-a13c9c147d65","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"29"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"523156a9-41d1-4ef0-9518-a13c9c147d65","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"29"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}},"res":{"statusCode":400},"responseTime":7},"level":"info","message":"HTTP PATCH /users/me"}
{"meta":{"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"3ef9d342-d8d5-4b40-a17f-38ceceabdbd4","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"49"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}},"res":{"statusCode":200},"responseTime":92},"level":"info","message":"HTTP PATCH /users/me"}
{"meta":{"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"23c1004c-3520-482b-b69a-99b4afa90399","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"49"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}},"res":{"statusCode":200},"responseTime":6},"level":"info","message":"HTTP PATCH /users/me"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Неправильные почта или пароль\nError: Неправильные почта или пароль\n    at /Users/kuznetsovaleria/movies-explorer-api/models/user.js:43:15\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","stack":"Error: Неправильные почта или пароль\n    at /Users/kuznetsovaleria/movies-explorer-api/models/user.js:43:15\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","exception":true,"date":"Tue May 11 2021 20:04:46 GMT+0300 (Москва, стандартное время)","process":{"pid":57552,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":43048960,"heapTotal":23277568,"heapUsed":21155328,"external":19801728,"arrayBuffers":18283497}},"os":{"loadavg":[8.47021484375,5.56396484375,4.40771484375],"uptime":7687511},"trace":[{"column":15,"file":"/Users/kuznetsovaleria/movies-explorer-api/models/user.js","function":null,"line":43,"method":null,"native":false},{"column":5,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":93,"method":null,"native":false}],"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"0cde86e5-c174-451a-bae3-cddfe047ec5d","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"58"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"0cde86e5-c174-451a-bae3-cddfe047ec5d","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"58"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}},"res":{"statusCode":401},"responseTime":32},"level":"info","message":"HTTP POST /signin"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Неправильные почта или пароль\nError: Неправильные почта или пароль\n    at /Users/kuznetsovaleria/movies-explorer-api/models/user.js:43:15\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","stack":"Error: Неправильные почта или пароль\n    at /Users/kuznetsovaleria/movies-explorer-api/models/user.js:43:15\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","exception":true,"date":"Tue May 11 2021 20:04:59 GMT+0300 (Москва, стандартное время)","process":{"pid":57552,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":43327488,"heapTotal":23277568,"heapUsed":21420408,"external":19803447,"arrayBuffers":18285216}},"os":{"loadavg":[7.4970703125,5.4873046875,4.400390625],"uptime":7687524},"trace":[{"column":15,"file":"/Users/kuznetsovaleria/movies-explorer-api/models/user.js","function":null,"line":43,"method":null,"native":false},{"column":5,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":93,"method":null,"native":false}],"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"845a84b8-6d0e-4160-b94e-bcf426a6da14","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"58"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"845a84b8-6d0e-4160-b94e-bcf426a6da14","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"58"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}},"res":{"statusCode":401},"responseTime":4},"level":"info","message":"HTTP POST /signin"}
{"meta":{"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"349a0337-7129-40f9-8b04-28a9ec432a0a","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"57"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}},"res":{"statusCode":200},"responseTime":176},"level":"info","message":"HTTP POST /signin"}
{"meta":{"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"6dc6e63e-af59-4835-a162-6731138ebcaf","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"50"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}},"res":{"statusCode":200},"responseTime":22},"level":"info","message":"HTTP PATCH /users/me"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)","stack":"Error: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)","exception":true,"date":"Tue May 11 2021 20:05:33 GMT+0300 (Москва, стандартное время)","process":{"pid":57552,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":32935936,"heapTotal":23539712,"heapUsed":21548488,"external":19814686,"arrayBuffers":18296455}},"os":{"loadavg":[5.15478515625,5.1064453125,4.298828125],"uptime":7687558},"trace":[{"column":11,"file":"/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js","function":"module.exports","line":10,"method":"exports","native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false}],"req":{"url":"/users/me","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"208282cb-1787-4543-9ecc-606b7f884319","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"50"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/users/me","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"208282cb-1787-4543-9ecc-606b7f884319","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"50"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}},"res":{"statusCode":401},"responseTime":10},"level":"info","message":"HTTP PATCH /users/me"}
{"meta":{"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"cee2d347-6712-42bf-9739-691199bc2561","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"50"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}},"res":{"statusCode":200},"responseTime":26},"level":"info","message":"HTTP PATCH /users/me"}
{"meta":{"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"ba06b877-fd5d-4c76-993c-7b34cf099738","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"49"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}},"res":{"statusCode":200},"responseTime":51},"level":"info","message":"HTTP PATCH /users/me"}
{"meta":{"error":{"ok":0,"code":11000,"codeName":"DuplicateKey","keyPattern":{"email":1},"keyValue":{"email":"lera@lera.com"},"name":"MongoError"},"level":"error","message":"uncaughtException: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\nMongoError: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\n    at Connection.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:451:61)\n    at Connection.emit (events.js:315:20)\n    at processMessage (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:451:10)\n    at Socket.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:620:15)\n    at Socket.emit (events.js:315:20)\n    at addChunk (internal/streams/readable.js:309:12)\n    at readableAddChunk (internal/streams/readable.js:284:9)\n    at Socket.Readable.push (internal/streams/readable.js:223:10)\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)","stack":"MongoError: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\n    at Connection.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:451:61)\n    at Connection.emit (events.js:315:20)\n    at processMessage (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:451:10)\n    at Socket.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:620:15)\n    at Socket.emit (events.js:315:20)\n    at addChunk (internal/streams/readable.js:309:12)\n    at readableAddChunk (internal/streams/readable.js:284:9)\n    at Socket.Readable.push (internal/streams/readable.js:223:10)\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)","exception":true,"date":"Tue May 11 2021 20:07:58 GMT+0300 (Москва, стандартное время)","process":{"pid":57704,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":42774528,"heapTotal":23277568,"heapUsed":21099576,"external":19807246,"arrayBuffers":18289055}},"os":{"loadavg":[3.84765625,4.74951171875,4.298828125],"uptime":7687703},"trace":[{"column":61,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js","function":null,"line":451,"method":null,"native":false},{"column":20,"file":"events.js","function":"Connection.emit","line":315,"method":"emit","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js","function":"processMessage","line":451,"method":null,"native":false},{"column":15,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js","function":null,"line":620,"method":null,"native":false},{"column":20,"file":"events.js","function":"Socket.emit","line":315,"method":"emit","native":false},{"column":12,"file":"internal/streams/readable.js","function":"addChunk","line":309,"method":null,"native":false},{"column":9,"file":"internal/streams/readable.js","function":"readableAddChunk","line":284,"method":null,"native":false},{"column":10,"file":"internal/streams/readable.js","function":"Socket.Readable.push","line":223,"method":"push","native":false},{"column":23,"file":"internal/stream_base_commons.js","function":"TCP.onStreamRead","line":188,"method":"onStreamRead","native":false}],"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"4e57c44c-7c6e-4b3a-8aeb-48e37b7610f9","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"4e57c44c-7c6e-4b3a-8aeb-48e37b7610f9","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}},"res":{"statusCode":500},"responseTime":75},"level":"info","message":"HTTP PATCH /users/me"}
{"meta":{"error":{"ok":0,"code":11000,"codeName":"DuplicateKey","keyPattern":{"email":1},"keyValue":{"email":"lera@lera.com"},"name":"MongoError"},"level":"error","message":"uncaughtException: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\nMongoError: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\n    at Connection.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:451:61)\n    at Connection.emit (events.js:315:20)\n    at processMessage (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:451:10)\n    at Socket.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:620:15)\n    at Socket.emit (events.js:315:20)\n    at addChunk (internal/streams/readable.js:309:12)\n    at readableAddChunk (internal/streams/readable.js:284:9)\n    at Socket.Readable.push (internal/streams/readable.js:223:10)\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)","stack":"MongoError: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\n    at Connection.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:451:61)\n    at Connection.emit (events.js:315:20)\n    at processMessage (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:451:10)\n    at Socket.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:620:15)\n    at Socket.emit (events.js:315:20)\n    at addChunk (internal/streams/readable.js:309:12)\n    at readableAddChunk (internal/streams/readable.js:284:9)\n    at Socket.Readable.push (internal/streams/readable.js:223:10)\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)","exception":true,"date":"Tue May 11 2021 20:08:14 GMT+0300 (Москва, стандартное время)","process":{"pid":57726,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":66625536,"heapTotal":56569856,"heapUsed":20973816,"external":19879378,"arrayBuffers":18361187}},"os":{"loadavg":[4.158203125,4.763671875,4.310546875],"uptime":7687719},"trace":[{"column":61,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js","function":null,"line":451,"method":null,"native":false},{"column":20,"file":"events.js","function":"Connection.emit","line":315,"method":"emit","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js","function":"processMessage","line":451,"method":null,"native":false},{"column":15,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js","function":null,"line":620,"method":null,"native":false},{"column":20,"file":"events.js","function":"Socket.emit","line":315,"method":"emit","native":false},{"column":12,"file":"internal/streams/readable.js","function":"addChunk","line":309,"method":null,"native":false},{"column":9,"file":"internal/streams/readable.js","function":"readableAddChunk","line":284,"method":null,"native":false},{"column":10,"file":"internal/streams/readable.js","function":"Socket.Readable.push","line":223,"method":"push","native":false},{"column":23,"file":"internal/stream_base_commons.js","function":"TCP.onStreamRead","line":188,"method":"onStreamRead","native":false}],"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"a91e7256-ee11-4c8f-8c31-85fead441c80","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"a91e7256-ee11-4c8f-8c31-85fead441c80","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}},"res":{"statusCode":500},"responseTime":31},"level":"info","message":"HTTP PATCH /users/me"}
{"meta":{"error":{"ok":0,"code":11000,"codeName":"DuplicateKey","keyPattern":{"email":1},"keyValue":{"email":"lera@lera.com"},"name":"MongoError"},"level":"error","message":"uncaughtException: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\nMongoError: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\n    at Connection.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:451:61)\n    at Connection.emit (events.js:315:20)\n    at processMessage (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:451:10)\n    at Socket.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:620:15)\n    at Socket.emit (events.js:315:20)\n    at addChunk (internal/streams/readable.js:309:12)\n    at readableAddChunk (internal/streams/readable.js:284:9)\n    at Socket.Readable.push (internal/streams/readable.js:223:10)\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)","stack":"MongoError: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\n    at Connection.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:451:61)\n    at Connection.emit (events.js:315:20)\n    at processMessage (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:451:10)\n    at Socket.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:620:15)\n    at Socket.emit (events.js:315:20)\n    at addChunk (internal/streams/readable.js:309:12)\n    at readableAddChunk (internal/streams/readable.js:284:9)\n    at Socket.Readable.push (internal/streams/readable.js:223:10)\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)","exception":true,"date":"Tue May 11 2021 20:10:02 GMT+0300 (Москва, стандартное время)","process":{"pid":57820,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":66777088,"heapTotal":56307712,"heapUsed":20975584,"external":19879378,"arrayBuffers":18361187}},"os":{"loadavg":[5.1669921875,4.732421875,4.33935546875],"uptime":7687827},"trace":[{"column":61,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js","function":null,"line":451,"method":null,"native":false},{"column":20,"file":"events.js","function":"Connection.emit","line":315,"method":"emit","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js","function":"processMessage","line":451,"method":null,"native":false},{"column":15,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js","function":null,"line":620,"method":null,"native":false},{"column":20,"file":"events.js","function":"Socket.emit","line":315,"method":"emit","native":false},{"column":12,"file":"internal/streams/readable.js","function":"addChunk","line":309,"method":null,"native":false},{"column":9,"file":"internal/streams/readable.js","function":"readableAddChunk","line":284,"method":null,"native":false},{"column":10,"file":"internal/streams/readable.js","function":"Socket.Readable.push","line":223,"method":"push","native":false},{"column":23,"file":"internal/stream_base_commons.js","function":"TCP.onStreamRead","line":188,"method":"onStreamRead","native":false}],"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"5b86ae12-5165-4838-bfde-2fd0a8904a31","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"5b86ae12-5165-4838-bfde-2fd0a8904a31","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}},"res":{"statusCode":500},"responseTime":30},"level":"info","message":"HTTP PATCH /users/me"}
{"meta":{"error":{"ok":0,"code":11000,"codeName":"DuplicateKey","keyPattern":{"email":1},"keyValue":{"email":"lera@lera.com"},"name":"MongoError"},"level":"error","message":"uncaughtException: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\nMongoError: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\n    at Connection.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:451:61)\n    at Connection.emit (events.js:315:20)\n    at processMessage (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:451:10)\n    at Socket.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:620:15)\n    at Socket.emit (events.js:315:20)\n    at addChunk (internal/streams/readable.js:309:12)\n    at readableAddChunk (internal/streams/readable.js:284:9)\n    at Socket.Readable.push (internal/streams/readable.js:223:10)\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)","stack":"MongoError: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\n    at Connection.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:451:61)\n    at Connection.emit (events.js:315:20)\n    at processMessage (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:451:10)\n    at Socket.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:620:15)\n    at Socket.emit (events.js:315:20)\n    at addChunk (internal/streams/readable.js:309:12)\n    at readableAddChunk (internal/streams/readable.js:284:9)\n    at Socket.Readable.push (internal/streams/readable.js:223:10)\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)","exception":true,"date":"Tue May 11 2021 20:10:58 GMT+0300 (Москва, стандартное время)","process":{"pid":57833,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":49340416,"heapTotal":21966848,"heapUsed":20736736,"external":19878843,"arrayBuffers":18360652}},"os":{"loadavg":[3.3330078125,4.2998046875,4.20166015625],"uptime":7687883},"trace":[{"column":61,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js","function":null,"line":451,"method":null,"native":false},{"column":20,"file":"events.js","function":"Connection.emit","line":315,"method":"emit","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js","function":"processMessage","line":451,"method":null,"native":false},{"column":15,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js","function":null,"line":620,"method":null,"native":false},{"column":20,"file":"events.js","function":"Socket.emit","line":315,"method":"emit","native":false},{"column":12,"file":"internal/streams/readable.js","function":"addChunk","line":309,"method":null,"native":false},{"column":9,"file":"internal/streams/readable.js","function":"readableAddChunk","line":284,"method":null,"native":false},{"column":10,"file":"internal/streams/readable.js","function":"Socket.Readable.push","line":223,"method":"push","native":false},{"column":23,"file":"internal/stream_base_commons.js","function":"TCP.onStreamRead","line":188,"method":"onStreamRead","native":false}],"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"0c918c97-2d37-4301-a3cf-125d89c32b7f","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"0c918c97-2d37-4301-a3cf-125d89c32b7f","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}},"res":{"statusCode":500},"responseTime":31},"level":"info","message":"HTTP PATCH /users/me"}
{"meta":{"error":{"ok":0,"code":11000,"codeName":"DuplicateKey","keyPattern":{"email":1},"keyValue":{"email":"lera@lera.com"},"name":"MongoError"},"level":"error","message":"uncaughtException: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\nMongoError: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\n    at Connection.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:451:61)\n    at Connection.emit (events.js:315:20)\n    at processMessage (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:451:10)\n    at Socket.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:620:15)\n    at Socket.emit (events.js:315:20)\n    at addChunk (internal/streams/readable.js:309:12)\n    at readableAddChunk (internal/streams/readable.js:284:9)\n    at Socket.Readable.push (internal/streams/readable.js:223:10)\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)","stack":"MongoError: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\n    at Connection.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:451:61)\n    at Connection.emit (events.js:315:20)\n    at processMessage (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:451:10)\n    at Socket.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:620:15)\n    at Socket.emit (events.js:315:20)\n    at addChunk (internal/streams/readable.js:309:12)\n    at readableAddChunk (internal/streams/readable.js:284:9)\n    at Socket.Readable.push (internal/streams/readable.js:223:10)\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)","exception":true,"date":"Tue May 11 2021 20:11:22 GMT+0300 (Москва, стандартное время)","process":{"pid":57849,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":67022848,"heapTotal":56307712,"heapUsed":21012456,"external":19879734,"arrayBuffers":18361543}},"os":{"loadavg":[3.4384765625,4.2431640625,4.1826171875],"uptime":7687907},"trace":[{"column":61,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js","function":null,"line":451,"method":null,"native":false},{"column":20,"file":"events.js","function":"Connection.emit","line":315,"method":"emit","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js","function":"processMessage","line":451,"method":null,"native":false},{"column":15,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js","function":null,"line":620,"method":null,"native":false},{"column":20,"file":"events.js","function":"Socket.emit","line":315,"method":"emit","native":false},{"column":12,"file":"internal/streams/readable.js","function":"addChunk","line":309,"method":null,"native":false},{"column":9,"file":"internal/streams/readable.js","function":"readableAddChunk","line":284,"method":null,"native":false},{"column":10,"file":"internal/streams/readable.js","function":"Socket.Readable.push","line":223,"method":"push","native":false},{"column":23,"file":"internal/stream_base_commons.js","function":"TCP.onStreamRead","line":188,"method":"onStreamRead","native":false}],"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"004d2520-192b-43e4-95d5-1b6b57f2e6dd","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"004d2520-192b-43e4-95d5-1b6b57f2e6dd","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}},"res":{"statusCode":500},"responseTime":39},"level":"info","message":"HTTP PATCH /users/me"}
{"meta":{"error":{"ok":0,"code":11000,"codeName":"DuplicateKey","keyPattern":{"email":1},"keyValue":{"email":"lera@lera.com"},"name":"MongoError"},"level":"error","message":"uncaughtException: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\nMongoError: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\n    at Connection.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:451:61)\n    at Connection.emit (events.js:315:20)\n    at processMessage (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:451:10)\n    at Socket.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:620:15)\n    at Socket.emit (events.js:315:20)\n    at addChunk (internal/streams/readable.js:309:12)\n    at readableAddChunk (internal/streams/readable.js:284:9)\n    at Socket.Readable.push (internal/streams/readable.js:223:10)\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)","stack":"MongoError: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\n    at Connection.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:451:61)\n    at Connection.emit (events.js:315:20)\n    at processMessage (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:451:10)\n    at Socket.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:620:15)\n    at Socket.emit (events.js:315:20)\n    at addChunk (internal/streams/readable.js:309:12)\n    at readableAddChunk (internal/streams/readable.js:284:9)\n    at Socket.Readable.push (internal/streams/readable.js:223:10)\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)","exception":true,"date":"Tue May 11 2021 20:14:02 GMT+0300 (Москва, стандартное время)","process":{"pid":57928,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":41152512,"heapTotal":56832000,"heapUsed":21010280,"external":19879734,"arrayBuffers":18361543}},"os":{"loadavg":[4.94287109375,4.796875,4.42919921875],"uptime":7688067},"trace":[{"column":61,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js","function":null,"line":451,"method":null,"native":false},{"column":20,"file":"events.js","function":"Connection.emit","line":315,"method":"emit","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js","function":"processMessage","line":451,"method":null,"native":false},{"column":15,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js","function":null,"line":620,"method":null,"native":false},{"column":20,"file":"events.js","function":"Socket.emit","line":315,"method":"emit","native":false},{"column":12,"file":"internal/streams/readable.js","function":"addChunk","line":309,"method":null,"native":false},{"column":9,"file":"internal/streams/readable.js","function":"readableAddChunk","line":284,"method":null,"native":false},{"column":10,"file":"internal/streams/readable.js","function":"Socket.Readable.push","line":223,"method":"push","native":false},{"column":23,"file":"internal/stream_base_commons.js","function":"TCP.onStreamRead","line":188,"method":"onStreamRead","native":false}],"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"eb632c73-ad83-47c7-b8c3-d36807c8bca5","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"eb632c73-ad83-47c7-b8c3-d36807c8bca5","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}},"res":{"statusCode":500},"responseTime":46},"level":"info","message":"HTTP PATCH /users/me"}
{"meta":{"error":{"ok":0,"code":11000,"codeName":"DuplicateKey","keyPattern":{"email":1},"keyValue":{"email":"lera@lera.com"},"name":"MongoError"},"level":"error","message":"uncaughtException: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\nMongoError: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\n    at Connection.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:451:61)\n    at Connection.emit (events.js:315:20)\n    at processMessage (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:451:10)\n    at Socket.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:620:15)\n    at Socket.emit (events.js:315:20)\n    at addChunk (internal/streams/readable.js:309:12)\n    at readableAddChunk (internal/streams/readable.js:284:9)\n    at Socket.Readable.push (internal/streams/readable.js:223:10)\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)","stack":"MongoError: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\n    at Connection.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:451:61)\n    at Connection.emit (events.js:315:20)\n    at processMessage (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:451:10)\n    at Socket.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:620:15)\n    at Socket.emit (events.js:315:20)\n    at addChunk (internal/streams/readable.js:309:12)\n    at readableAddChunk (internal/streams/readable.js:284:9)\n    at Socket.Readable.push (internal/streams/readable.js:223:10)\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)","exception":true,"date":"Tue May 11 2021 20:14:03 GMT+0300 (Москва, стандартное время)","process":{"pid":57928,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":42582016,"heapTotal":57094144,"heapUsed":21493296,"external":19885231,"arrayBuffers":18362602}},"os":{"loadavg":[4.787109375,4.7666015625,4.42041015625],"uptime":7688068},"trace":[{"column":61,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js","function":null,"line":451,"method":null,"native":false},{"column":20,"file":"events.js","function":"Connection.emit","line":315,"method":"emit","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js","function":"processMessage","line":451,"method":null,"native":false},{"column":15,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js","function":null,"line":620,"method":null,"native":false},{"column":20,"file":"events.js","function":"Socket.emit","line":315,"method":"emit","native":false},{"column":12,"file":"internal/streams/readable.js","function":"addChunk","line":309,"method":null,"native":false},{"column":9,"file":"internal/streams/readable.js","function":"readableAddChunk","line":284,"method":null,"native":false},{"column":10,"file":"internal/streams/readable.js","function":"Socket.Readable.push","line":223,"method":"push","native":false},{"column":23,"file":"internal/stream_base_commons.js","function":"TCP.onStreamRead","line":188,"method":"onStreamRead","native":false}],"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"1c1e5f00-61bd-421c-a308-fd49b9b551e6","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"1c1e5f00-61bd-421c-a308-fd49b9b551e6","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}},"res":{"statusCode":500},"responseTime":18},"level":"info","message":"HTTP PATCH /users/me"}
{"meta":{"error":{"ok":0,"code":11000,"codeName":"DuplicateKey","keyPattern":{"email":1},"keyValue":{"email":"lera@lera.com"},"name":"MongoError"},"level":"error","message":"uncaughtException: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\nMongoError: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\n    at Connection.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:451:61)\n    at Connection.emit (events.js:315:20)\n    at processMessage (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:451:10)\n    at Socket.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:620:15)\n    at Socket.emit (events.js:315:20)\n    at addChunk (internal/streams/readable.js:309:12)\n    at readableAddChunk (internal/streams/readable.js:284:9)\n    at Socket.Readable.push (internal/streams/readable.js:223:10)\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)","stack":"MongoError: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"lera@lera.com\" }\n    at Connection.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js:451:61)\n    at Connection.emit (events.js:315:20)\n    at processMessage (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:451:10)\n    at Socket.<anonymous> (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js:620:15)\n    at Socket.emit (events.js:315:20)\n    at addChunk (internal/streams/readable.js:309:12)\n    at readableAddChunk (internal/streams/readable.js:284:9)\n    at Socket.Readable.push (internal/streams/readable.js:223:10)\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)","exception":true,"date":"Tue May 11 2021 20:14:06 GMT+0300 (Москва, стандартное время)","process":{"pid":57928,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":42237952,"heapTotal":23015424,"heapUsed":20641920,"external":19792724,"arrayBuffers":18274493}},"os":{"loadavg":[4.787109375,4.7666015625,4.42041015625],"uptime":7688071},"trace":[{"column":61,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/pool.js","function":null,"line":451,"method":null,"native":false},{"column":20,"file":"events.js","function":"Connection.emit","line":315,"method":"emit","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js","function":"processMessage","line":451,"method":null,"native":false},{"column":15,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongodb/lib/core/connection/connection.js","function":null,"line":620,"method":null,"native":false},{"column":20,"file":"events.js","function":"Socket.emit","line":315,"method":"emit","native":false},{"column":12,"file":"internal/streams/readable.js","function":"addChunk","line":309,"method":null,"native":false},{"column":9,"file":"internal/streams/readable.js","function":"readableAddChunk","line":284,"method":null,"native":false},{"column":10,"file":"internal/streams/readable.js","function":"Socket.Readable.push","line":223,"method":"push","native":false},{"column":23,"file":"internal/stream_base_commons.js","function":"TCP.onStreamRead","line":188,"method":"onStreamRead","native":false}],"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"0efa123c-3e1e-4bfb-abe7-a52ed829340b","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"0efa123c-3e1e-4bfb-abe7-a52ed829340b","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}},"res":{"statusCode":500},"responseTime":13},"level":"info","message":"HTTP PATCH /users/me"}
{"meta":{"error":{"statusCode":409},"level":"error","message":"uncaughtException: Можно вносить изменения только со своего email\nError: Можно вносить изменения только со своего email\n    at /Users/kuznetsovaleria/movies-explorer-api/controllers/users.js:47:14\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","stack":"Error: Можно вносить изменения только со своего email\n    at /Users/kuznetsovaleria/movies-explorer-api/controllers/users.js:47:14\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","exception":true,"date":"Tue May 11 2021 20:18:12 GMT+0300 (Москва, стандартное время)","process":{"pid":58026,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":49029120,"heapTotal":22228992,"heapUsed":20689864,"external":19878843,"arrayBuffers":18360652}},"os":{"loadavg":[4.634765625,4.53076171875,4.36376953125],"uptime":7688317},"trace":[{"column":14,"file":"/Users/kuznetsovaleria/movies-explorer-api/controllers/users.js","function":null,"line":47,"method":null,"native":false},{"column":5,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":93,"method":null,"native":false}],"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"a6ccf411-7977-4fe7-ba72-41507dbd7310","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"a6ccf411-7977-4fe7-ba72-41507dbd7310","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}},"res":{"statusCode":409},"responseTime":94},"level":"info","message":"HTTP PATCH /users/me"}
{"meta":{"error":{"statusCode":403},"level":"error","message":"uncaughtException: Можно удалять только свои сохранённые фильмы\nError: Можно удалять только свои сохранённые фильмы\n    at /Users/kuznetsovaleria/movies-explorer-api/controllers/movies.js:77:14\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","stack":"Error: Можно удалять только свои сохранённые фильмы\n    at /Users/kuznetsovaleria/movies-explorer-api/controllers/movies.js:77:14\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","exception":true,"date":"Tue May 11 2021 20:21:32 GMT+0300 (Москва, стандартное время)","process":{"pid":58052,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":48787456,"heapTotal":21966848,"heapUsed":20344016,"external":19795695,"arrayBuffers":18277504}},"os":{"loadavg":[3.15869140625,4.0087890625,4.17724609375],"uptime":7688517},"trace":[{"column":14,"file":"/Users/kuznetsovaleria/movies-explorer-api/controllers/movies.js","function":null,"line":77,"method":null,"native":false},{"column":5,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":93,"method":null,"native":false}],"req":{"url":"/movies/6097a8539d2be6badbacf9c6","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"f574836e-b71b-4deb-b22a-ac9c3da8e6f1","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/6097a8539d2be6badbacf9c6","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies/6097a8539d2be6badbacf9c6","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTI1MzUsImV4cCI6MTYyMTM1NzMzNX0.MOHMC-siiM3U3yX-BgdC-hh_IYVvkKwDHvXAW5g5zXw","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"f574836e-b71b-4deb-b22a-ac9c3da8e6f1","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/6097a8539d2be6badbacf9c6","query":{}},"res":{"statusCode":403},"responseTime":39},"level":"info","message":"HTTP DELETE /movies/6097a8539d2be6badbacf9c6"}
{"meta":{"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"aeef72bf-f6d1-4e36-b0a7-dcf1863ec71f","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"57"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}},"res":{"statusCode":200},"responseTime":116},"level":"info","message":"HTTP POST /signin"}
{"meta":{"error":{"statusCode":403},"level":"error","message":"uncaughtException: Можно удалять только свои сохранённые фильмы\nError: Можно удалять только свои сохранённые фильмы\n    at /Users/kuznetsovaleria/movies-explorer-api/controllers/movies.js:77:14\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","stack":"Error: Можно удалять только свои сохранённые фильмы\n    at /Users/kuznetsovaleria/movies-explorer-api/controllers/movies.js:77:14\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","exception":true,"date":"Tue May 11 2021 20:22:14 GMT+0300 (Москва, стандартное время)","process":{"pid":58052,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":49786880,"heapTotal":23015424,"heapUsed":21148680,"external":19804915,"arrayBuffers":18286684}},"os":{"loadavg":[2.990234375,3.86279296875,4.115234375],"uptime":7688559},"trace":[{"column":14,"file":"/Users/kuznetsovaleria/movies-explorer-api/controllers/movies.js","function":null,"line":77,"method":null,"native":false},{"column":5,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":93,"method":null,"native":false}],"req":{"url":"/movies/6097a8539d2be6badbacf9c6","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTM3MjIsImV4cCI6MTYyMTM1ODUyMn0.bs-hyl1RoPCgUH4qsG4uN2n0FnpxMIy7ylxqJPc4W38","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"ca7eb83b-1a70-46ad-a3f0-d2a548db7907","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/6097a8539d2be6badbacf9c6","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies/6097a8539d2be6badbacf9c6","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTM3MjIsImV4cCI6MTYyMTM1ODUyMn0.bs-hyl1RoPCgUH4qsG4uN2n0FnpxMIy7ylxqJPc4W38","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"ca7eb83b-1a70-46ad-a3f0-d2a548db7907","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/6097a8539d2be6badbacf9c6","query":{}},"res":{"statusCode":403},"responseTime":5},"level":"info","message":"HTTP DELETE /movies/6097a8539d2be6badbacf9c6"}
{"meta":{"req":{"url":"/movies/609ab4f2903daedf05e78b7c","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTM3MjIsImV4cCI6MTYyMTM1ODUyMn0.bs-hyl1RoPCgUH4qsG4uN2n0FnpxMIy7ylxqJPc4W38","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"81b033dd-1218-4e05-b4c6-717fc684b5f9","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/609ab4f2903daedf05e78b7c","query":{}},"res":{"statusCode":200},"responseTime":15},"level":"info","message":"HTTP DELETE /movies/609ab4f2903daedf05e78b7c"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"7325e36d-dcbd-4d62-856d-5e316ad0396d","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"720"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":201},"responseTime":48},"level":"info","message":"HTTP POST /movies"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"65376a65-2b9d-4ace-8d0d-a36fc213e245","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"58"},"method":"GET","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":200},"responseTime":19},"level":"info","message":"HTTP GET /movies"}
{"meta":{"req":{"url":"/movies/609abd7156ebc7e2c48ce8cd","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTM3MjIsImV4cCI6MTYyMTM1ODUyMn0.bs-hyl1RoPCgUH4qsG4uN2n0FnpxMIy7ylxqJPc4W38","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"380242f9-4b55-4ed9-b4b5-20c2db912322","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/609abd7156ebc7e2c48ce8cd","query":{}},"res":{"statusCode":200},"responseTime":72},"level":"info","message":"HTTP DELETE /movies/609abd7156ebc7e2c48ce8cd"}
{"meta":{"error":{"details":{}},"level":"error","message":"uncaughtException: celebrate request validation failed\nError: celebrate request validation failed\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","stack":"Error: celebrate request validation failed\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","exception":true,"date":"Tue May 11 2021 20:27:45 GMT+0300 (Москва, стандартное время)","process":{"pid":58188,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":49684480,"heapTotal":22491136,"heapUsed":20889368,"external":19801167,"arrayBuffers":18282976}},"os":{"loadavg":[3.5234375,3.95263671875,4.08203125],"uptime":7688890},"trace":[{"column":19,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":93,"method":null,"native":false}],"req":{"url":"/movies/609abd7156ebc7e2c48ce8cd1","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTM3MjIsImV4cCI6MTYyMTM1ODUyMn0.bs-hyl1RoPCgUH4qsG4uN2n0FnpxMIy7ylxqJPc4W38","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"301d616a-79d2-449e-a085-fbc36d6607b8","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/609abd7156ebc7e2c48ce8cd1","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies/609abd7156ebc7e2c48ce8cd1","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTM3MjIsImV4cCI6MTYyMTM1ODUyMn0.bs-hyl1RoPCgUH4qsG4uN2n0FnpxMIy7ylxqJPc4W38","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"301d616a-79d2-449e-a085-fbc36d6607b8","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/609abd7156ebc7e2c48ce8cd1","query":{}},"res":{"statusCode":400},"responseTime":6},"level":"info","message":"HTTP DELETE /movies/609abd7156ebc7e2c48ce8cd1"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"1701eba2-17d9-4ab8-968b-c04f8e476bcd","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"720"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":201},"responseTime":22},"level":"info","message":"HTTP POST /movies"}
{"meta":{"error":{},"level":"error","message":"uncaughtException: Parameter \"filter\" to remove() must be an object, got 609abead827699e34cf9b7c0\nObjectParameterError: Parameter \"filter\" to remove() must be an object, got 609abead827699e34cf9b7c0\n    at model.Query.Query.remove (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongoose/lib/query.js:2698:16)\n    at Function.remove (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongoose/lib/model.js:1920:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/controllers/movies.js:71:15\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","stack":"ObjectParameterError: Parameter \"filter\" to remove() must be an object, got 609abead827699e34cf9b7c0\n    at model.Query.Query.remove (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongoose/lib/query.js:2698:16)\n    at Function.remove (/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongoose/lib/model.js:1920:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/controllers/movies.js:71:15\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","exception":true,"date":"Tue May 11 2021 20:28:32 GMT+0300 (Москва, стандартное время)","process":{"pid":58203,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":49385472,"heapTotal":22491136,"heapUsed":20266088,"external":19792073,"arrayBuffers":18273882}},"os":{"loadavg":[2.44140625,3.61279296875,3.94970703125],"uptime":7688937},"trace":[{"column":16,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongoose/lib/query.js","function":"model.Query.Query.remove","line":2698,"method":"remove","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/mongoose/lib/model.js","function":"Function.remove","line":1920,"method":"remove","native":false},{"column":15,"file":"/Users/kuznetsovaleria/movies-explorer-api/controllers/movies.js","function":null,"line":71,"method":null,"native":false},{"column":5,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":93,"method":null,"native":false}],"req":{"url":"/movies/609abead827699e34cf9b7c0","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTM3MjIsImV4cCI6MTYyMTM1ODUyMn0.bs-hyl1RoPCgUH4qsG4uN2n0FnpxMIy7ylxqJPc4W38","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"493deaf1-1db3-4876-adf1-f24eb471c1a9","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/609abead827699e34cf9b7c0","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies/609abead827699e34cf9b7c0","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTM3MjIsImV4cCI6MTYyMTM1ODUyMn0.bs-hyl1RoPCgUH4qsG4uN2n0FnpxMIy7ylxqJPc4W38","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"493deaf1-1db3-4876-adf1-f24eb471c1a9","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/609abead827699e34cf9b7c0","query":{}},"res":{"statusCode":500},"responseTime":38},"level":"info","message":"HTTP DELETE /movies/609abead827699e34cf9b7c0"}
{"meta":{"req":{"url":"/movies/609abead827699e34cf9b7c0","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTM3MjIsImV4cCI6MTYyMTM1ODUyMn0.bs-hyl1RoPCgUH4qsG4uN2n0FnpxMIy7ylxqJPc4W38","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"cf45cbf7-76e5-45a1-93c7-42c518037be8","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/609abead827699e34cf9b7c0","query":{}},"res":{"statusCode":200},"responseTime":30},"level":"info","message":"HTTP DELETE /movies/609abead827699e34cf9b7c0"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"2a7979a5-09c8-4fbd-a43e-290dde88b81f","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"58"},"method":"GET","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":200},"responseTime":160},"level":"info","message":"HTTP GET /movies"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"2ea75e91-8917-4620-9080-1d83dbcc35fe","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"721"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":201},"responseTime":61},"level":"info","message":"HTTP POST /movies"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"89320256-127f-4f8e-be9c-4ab78c9525d7","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"58"},"method":"GET","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":200},"responseTime":38},"level":"info","message":"HTTP GET /movies"}
{"meta":{"req":{"url":"/movies/609ad3c2638f6ce86e207308","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTM3MjIsImV4cCI6MTYyMTM1ODUyMn0.bs-hyl1RoPCgUH4qsG4uN2n0FnpxMIy7ylxqJPc4W38","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"b217d35d-c279-415f-b467-663c94ad25f8","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/609ad3c2638f6ce86e207308","query":{}},"res":{"statusCode":200},"responseTime":91},"level":"info","message":"HTTP DELETE /movies/609ad3c2638f6ce86e207308"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"76224f4c-5681-4f1c-975a-21da745b9eb3","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"58"},"method":"GET","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":200},"responseTime":39},"level":"info","message":"HTTP GET /movies"}
{"meta":{"error":{"details":{}},"level":"error","message":"uncaughtException: celebrate request validation failed\nError: celebrate request validation failed\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","stack":"Error: celebrate request validation failed\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","exception":true,"date":"Tue May 11 2021 22:21:23 GMT+0300 (Москва, стандартное время)","process":{"pid":59919,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":66646016,"heapTotal":56307712,"heapUsed":20762128,"external":19879528,"arrayBuffers":18361337}},"os":{"loadavg":[3.05078125,3.27685546875,3.5224609375],"uptime":7695708},"trace":[{"column":19,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":93,"method":null,"native":false}],"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"d6440ef9-0a79-4aeb-a15a-9e02e235728d","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"721"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"d6440ef9-0a79-4aeb-a15a-9e02e235728d","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"721"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":400},"responseTime":30},"level":"info","message":"HTTP POST /movies"}
{"meta":{"error":{"details":{}},"level":"error","message":"uncaughtException: celebrate request validation failed\nError: celebrate request validation failed\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","stack":"Error: celebrate request validation failed\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","exception":true,"date":"Tue May 11 2021 22:21:37 GMT+0300 (Москва, стандартное время)","process":{"pid":59919,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":50286592,"heapTotal":23015424,"heapUsed":20335112,"external":19792646,"arrayBuffers":18274415}},"os":{"loadavg":[2.9580078125,3.24609375,3.50634765625],"uptime":7695722},"trace":[{"column":19,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":93,"method":null,"native":false}],"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"8646ebb8-17fd-4fa1-baa6-24ec3f880fd4","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"721"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"8646ebb8-17fd-4fa1-baa6-24ec3f880fd4","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"721"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":400},"responseTime":6},"level":"info","message":"HTTP POST /movies"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"0012d2da-b8ce-4930-85e8-388c06793d1f","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"721"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":201},"responseTime":58},"level":"info","message":"HTTP POST /movies"}
{"meta":{"req":{"url":"/movies/609ad947d02620ea0feca264","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTM3MjIsImV4cCI6MTYyMTM1ODUyMn0.bs-hyl1RoPCgUH4qsG4uN2n0FnpxMIy7ylxqJPc4W38","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"6599d513-c5c2-4ba8-8cd3-8b1b4053700a","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/609ad947d02620ea0feca264","query":{}},"res":{"statusCode":200},"responseTime":12},"level":"info","message":"HTTP DELETE /movies/609ad947d02620ea0feca264"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"f5b7059c-dbcd-4f9b-a51e-50f074b38129","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"721"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":201},"responseTime":34},"level":"info","message":"HTTP POST /movies"}
{"meta":{"req":{"url":"/movies/609ad982f48f81ea1d9c85c2","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTM3MjIsImV4cCI6MTYyMTM1ODUyMn0.bs-hyl1RoPCgUH4qsG4uN2n0FnpxMIy7ylxqJPc4W38","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"9f0b5be5-4668-44cd-83b5-538e1a4e8280","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/609ad982f48f81ea1d9c85c2","query":{}},"res":{"statusCode":200},"responseTime":22},"level":"info","message":"HTTP DELETE /movies/609ad982f48f81ea1d9c85c2"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"a9250e76-55db-420b-bfce-883e48c1ce06","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"721"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":201},"responseTime":114},"level":"info","message":"HTTP POST /movies"}
{"meta":{"error":{"details":{}},"level":"error","message":"uncaughtException: celebrate request validation failed\nError: celebrate request validation failed\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","stack":"Error: celebrate request validation failed\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","exception":true,"date":"Tue May 11 2021 22:23:27 GMT+0300 (Москва, стандартное время)","process":{"pid":59948,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":49893376,"heapTotal":22491136,"heapUsed":21263680,"external":19889138,"arrayBuffers":18370947}},"os":{"loadavg":[2.205078125,2.859375,3.31982421875],"uptime":7695832},"trace":[{"column":19,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/celebrate/lib/celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":93,"method":null,"native":false}],"req":{"url":"/movies/609ad99fefac15ea2ca8b2c21","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTM3MjIsImV4cCI6MTYyMTM1ODUyMn0.bs-hyl1RoPCgUH4qsG4uN2n0FnpxMIy7ylxqJPc4W38","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"691b8bce-785b-407a-9e7b-6c7554832497","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/609ad99fefac15ea2ca8b2c21","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies/609ad99fefac15ea2ca8b2c21","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTM3MjIsImV4cCI6MTYyMTM1ODUyMn0.bs-hyl1RoPCgUH4qsG4uN2n0FnpxMIy7ylxqJPc4W38","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"691b8bce-785b-407a-9e7b-6c7554832497","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/609ad99fefac15ea2ca8b2c21","query":{}},"res":{"statusCode":400},"responseTime":7},"level":"info","message":"HTTP DELETE /movies/609ad99fefac15ea2ca8b2c21"}
{"meta":{"req":{"url":"/movies/609ad99fefac15ea2ca8b2c2","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTM3MjIsImV4cCI6MTYyMTM1ODUyMn0.bs-hyl1RoPCgUH4qsG4uN2n0FnpxMIy7ylxqJPc4W38","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"74fd1c40-d92b-445a-9d88-cc2f58ccba9e","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/609ad99fefac15ea2ca8b2c2","query":{}},"res":{"statusCode":200},"responseTime":50},"level":"info","message":"HTTP DELETE /movies/609ad99fefac15ea2ca8b2c2"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"3e5159b8-ed40-4942-b99b-27e8d6c80c15","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"721"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":201},"responseTime":32},"level":"info","message":"HTTP POST /movies"}
{"meta":{"req":{"url":"/movies/609ad9cce31bddea3a0c466d","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTM3MjIsImV4cCI6MTYyMTM1ODUyMn0.bs-hyl1RoPCgUH4qsG4uN2n0FnpxMIy7ylxqJPc4W38","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"e716ff30-d158-4694-b200-dfd7b28e9ed3","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/609ad9cce31bddea3a0c466d","query":{}},"res":{"statusCode":200},"responseTime":28},"level":"info","message":"HTTP DELETE /movies/609ad9cce31bddea3a0c466d"}
{"meta":{"error":{"statusCode":404},"level":"error","message":"uncaughtException: Фильм не найден\nError: Фильм не найден\n    at /Users/kuznetsovaleria/movies-explorer-api/controllers/movies.js:68:15\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","stack":"Error: Фильм не найден\n    at /Users/kuznetsovaleria/movies-explorer-api/controllers/movies.js:68:15\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)","exception":true,"date":"Tue May 11 2021 22:33:16 GMT+0300 (Москва, стандартное время)","process":{"pid":60242,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":49090560,"heapTotal":21966848,"heapUsed":20294408,"external":19796700,"arrayBuffers":18278509}},"os":{"loadavg":[3.2822265625,3.07421875,3.12548828125],"uptime":7696421},"trace":[{"column":15,"file":"/Users/kuznetsovaleria/movies-explorer-api/controllers/movies.js","function":null,"line":68,"method":null,"native":false},{"column":5,"file":"internal/process/task_queues.js","function":"processTicksAndRejections","line":93,"method":null,"native":false}],"req":{"url":"/movies/609ad9cce31bddea3a0c466d","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTM3MjIsImV4cCI6MTYyMTM1ODUyMn0.bs-hyl1RoPCgUH4qsG4uN2n0FnpxMIy7ylxqJPc4W38","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"7c3237b2-8923-41d7-87a8-24d53d796739","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/609ad9cce31bddea3a0c466d","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/movies/609ad9cce31bddea3a0c466d","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTM3MjIsImV4cCI6MTYyMTM1ODUyMn0.bs-hyl1RoPCgUH4qsG4uN2n0FnpxMIy7ylxqJPc4W38","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"7c3237b2-8923-41d7-87a8-24d53d796739","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/609ad9cce31bddea3a0c466d","query":{}},"res":{"statusCode":404},"responseTime":21},"level":"info","message":"HTTP DELETE /movies/609ad9cce31bddea3a0c466d"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)","stack":"Error: Необходима авторизация\n    at module.exports (/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)","exception":true,"date":"Tue May 11 2021 22:34:22 GMT+0300 (Москва, стандартное время)","process":{"pid":60242,"uid":501,"gid":20,"cwd":"/Users/kuznetsovaleria/movies-explorer-api","execPath":"/usr/local/bin/node","version":"v14.15.2","argv":["/usr/local/bin/node","/Users/kuznetsovaleria/movies-explorer-api/app.js"],"memoryUsage":{"rss":37101568,"heapTotal":22228992,"heapUsed":20576192,"external":19828966,"arrayBuffers":18310735}},"os":{"loadavg":[4.3359375,3.361328125,3.22265625],"uptime":7696487},"trace":[{"column":11,"file":"/Users/kuznetsovaleria/movies-explorer-api/middlewares/auth.js","function":"module.exports","line":10,"method":"exports","native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/kuznetsovaleria/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false}],"req":{"url":"/users/me","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"2ebcc6fb-71ee-4dc8-8d4d-7f782323b219","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"49"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"req":{"url":"/users/me","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"2ebcc6fb-71ee-4dc8-8d4d-7f782323b219","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"49"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}},"res":{"statusCode":401},"responseTime":7},"level":"info","message":"HTTP PATCH /users/me"}
{"meta":{"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"cc2718f3-799b-4ecd-b9af-6dddd202a082","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"57"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}},"res":{"statusCode":200},"responseTime":262},"level":"info","message":"HTTP POST /signin"}
{"meta":{"req":{"url":"/users/me","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NjE2ODEsImV4cCI6MTYyMTM2NjQ4MX0.s53bLP2Y6crr9HENfGboadW1MytdG_QFNkXS9_euPDA","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"0545e268-69cc-472a-b4ef-e43c23a1e579","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"49"},"method":"PATCH","httpVersion":"1.1","originalUrl":"/users/me","query":{}},"res":{"statusCode":200},"responseTime":84},"level":"info","message":"HTTP PATCH /users/me"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"a7fc971f-e7ea-4356-b7a4-148cb2385941","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"722"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":201},"responseTime":50},"level":"info","message":"HTTP POST /movies"}
{"meta":{"req":{"url":"/movies/609adc829dc8eaeb52b17154","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTM3MjIsImV4cCI6MTYyMTM1ODUyMn0.bs-hyl1RoPCgUH4qsG4uN2n0FnpxMIy7ylxqJPc4W38","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"d4d8d0c1-c981-4a36-bfc3-76e5581483df","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive"},"method":"DELETE","httpVersion":"1.1","originalUrl":"/movies/609adc829dc8eaeb52b17154","query":{}},"res":{"statusCode":200},"responseTime":26},"level":"info","message":"HTTP DELETE /movies/609adc829dc8eaeb52b17154"}
{"meta":{"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"eecfd02a-db6d-412c-ad16-a8393d2ac4bb","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"57"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}},"res":{"statusCode":200},"responseTime":487},"level":"info","message":"HTTP POST /signin"}
{"meta":{"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"2744972f-82c1-4b7e-b0f4-4bcc54c5482c","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"57"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}},"res":{"statusCode":200},"responseTime":202},"level":"info","message":"HTTP POST /signin"}
{"meta":{"req":{"url":"/signin","headers":{"content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"452e288d-c36a-4ccc-a661-15c5ad840a08","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"57"},"method":"POST","httpVersion":"1.1","originalUrl":"/signin","query":{}},"res":{"statusCode":200},"responseTime":156},"level":"info","message":"HTTP POST /signin"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA4MjMyMzksImV4cCI6MTYyMTQyODAzOX0.-Pol__fj1-bpT-9nJqs5MMHFiP1TDYkl6Zl4eYNIqz8","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"636a09a6-4509-4640-a621-911f3401727c","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"58"},"method":"GET","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":200},"responseTime":43},"level":"info","message":"HTTP GET /movies"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA3NTA5NjAsImV4cCI6MTYyMTM1NTc2MH0.t-_coihIaWovnlab-DPJAydZmAsAIvA5PrOM62PUoZc","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"3064745f-fe60-42a1-8887-780d7e9c8146","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"722"},"method":"POST","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":201},"responseTime":85},"level":"info","message":"HTTP POST /movies"}
{"meta":{"req":{"url":"/movies","headers":{"authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDlhYjE4YjFlMDJlNmRlMzE4NWRmNjEiLCJpYXQiOjE2MjA4MjMyMzksImV4cCI6MTYyMTQyODAzOX0.-Pol__fj1-bpT-9nJqs5MMHFiP1TDYkl6Zl4eYNIqz8","content-type":"application/json","user-agent":"PostmanRuntime/7.26.8","accept":"*/*","postman-token":"471c10c0-6aa3-4c59-8a11-7924edddf742","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"58"},"method":"GET","httpVersion":"1.1","originalUrl":"/movies","query":{}},"res":{"statusCode":200},"responseTime":16},"level":"info","message":"HTTP GET /movies"}
